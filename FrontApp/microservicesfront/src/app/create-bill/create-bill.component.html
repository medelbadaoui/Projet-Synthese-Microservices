


<div class="row">
    <div class="col-12 col-md-8"><div class="container">
        <div class="text-danger" *ngIf="errorMessage">
            <h3>{{errorMessage}}</h3>
        </div>
        <h3 style="text-align: center;">Customers</h3>
        <div class="list-group " *ngIf="customers">
            <a  class="list-group-item small list-group-item-action  align-items-start " *ngFor="let customer of customers._embedded.customers">
                <a class="btn  stretched-link" (click)="setCustomer(customer)">
                    <div class="d-flex w-10 justify-content-between " >
                        <h5 class="mb-1">{{customer.name}}</h5>
                      </div>
                      <small>{{customer.email}}.</small>
                </a> 
            </a>
        </div>
    </div>
    <br>
    <br>
    <br>
    <div class="container">
        <div class="text-danger" *ngIf="errorMessage">
            <h3>{{errorMessage}}</h3>
        </div>
        <h3 style="text-align: center;">Products</h3>
        <div  class="card-deck" *ngIf="products">
            <div (click)="addproductItem(product)" class="card text-white bg-success  mb-3 small" style="max-width: 18rem;" *ngFor="let product of products._embedded.products">
                <div class="card-header">Product : {{product.id}}</div>
                <div class="card-body">
                  <h5 class="card-title">Price : {{product.price}}</h5>
                  <p class="card-text">{{product.name}}</p>
                </div>
              </div>
              <div style="height: 100px;">
              </div>
        </div>
    </div></div>
    <div class="col-6 col-md-4"><h3 style="text-align: center;">Create Bill</h3>
        <div class="submit-form">
          <div class="text-danger" *ngIf="!customer">
            <h3>Select a customer </h3>
        </div>
            
            <div class="form-group" *ngIf="customer">
              <label for="name">Customer :</label>
              <input
                type="text"
                class="form-control"
                id="name"
                required
                [(ngModel)]="customer.name"
                name="name"
              disabled/>
            </div>
            <div class="form-group" >
              
              <table class="table" *ngIf="productItems">
                <tr>
                    <th>Product</th><th>Price</th><th>Quantity</th>
                </tr>
                <tr *ngFor="let p of productItems">
                    <td>{{p.product.name}}</td>
                    <td>{{p.price}}</td>
                    <td><input type="number" class="form-control" id="quantity" required [(ngModel)]="p.quantity" name="quantity" (ngModelChange)="calculatetotal()"/></td>
                    <td>
                      <button class="badge badge-danger mr-2" (click)="deleteproductItem(p.product)">
                        Delete Item
                      </button>
                    </td>
                </tr>
            </table>
            <div class="text-danger" *ngIf="!productItems">
              <h5>Select Product Items </h5>
          </div>
            <label>Total of Order</label><input type="number" class="form-control" id="total" required [(ngModel)]="total" name="total" disabled/>
            <button type="submit"  (click)="createBill()" class="btn btn-success">Confirm Order</button>
         
            </div>
      
        </div>
    </div>
    
  </div>

